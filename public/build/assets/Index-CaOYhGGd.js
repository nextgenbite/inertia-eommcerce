import{s as I}from"./index-DOlIh_04.js";import{s as T}from"./index-0XBAtQHG.js";import{s as P,b as j}from"./index-6-ok8yhX.js";import{s as U}from"./index-D9uVncCN.js";import{s as W,a as A}from"./index-Cu3rGjYN.js";import{s as E}from"./index-Bgu8At9p.js";import{_ as L}from"./AppLayout-C5usq1YX.js";import{_ as R,a as Y}from"./Edit-QFMvRzQr.js";import{r as y,T as q,W as z,X as J,Y as b,o as c,c as x,w as a,a as t,b as s,t as g,u as K,Z as X,d as u,f as w,U as Z,F as G,g as H}from"./app-Dh8szHK3.js";import{p as M}from"./lodash-CfgPmycM.js";import{l as Q}from"./loadToast-eB3M5pLH.js";import"./index-Be1fzYNM.js";import"./index-Ce9f-3M6.js";import"./index-BT92uTGn.js";import"./index-DAxvJZYr.js";import"./index-B0H_Rm_Y.js";import"./index-teBJk6bl.js";import"./index-DNfLPAdh.js";import"./index-B3b-Iq7d.js";import"./index-n2GB4d98.js";import"./index-DBxa-NAO.js";import"./index-8Aus6rlV.js";import"./index-8ZGhiJ3I.js";import"./index-D0rtx4e8.js";import"./index-BzDxdxb4.js";import"./index-CW_FCnTz.js";import"./index-DI3dG3I0.js";import"./index-DOXpOdoP.js";import"./index-C-T7s70H.js";import"./index-CFSVqPX3.js";import"./index-V7LuKUv1.js";import"./index-D8bT7ROp.js";import"./index-DJoUM3gn.js";import"./layout-9dy0EXsG.js";import"./AppTopbar-CYC8GeXU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-kAC_HHNA.js";import"./index-CshNAVnm.js";import"./index-BPRFKjFC.js";import"./index-RqqKeK1i.js";import"./DropdownLink-DyOCHrdg.js";import"./index-ByuFMyH_.js";import"./index-B-klDz7s.js";import"./MultipleImageUpload-BF03UTSx.js";import"./index-BFrgsLQl.js";import"./index-DNIu-c0r.js";import"./index-C5L8_T07.js";import"./index-BdFMFSLk.js";const ee={class:"card"},te={class:"flex justify-end"},oe={class:"flex items-center gap-4"},re={key:0},Me={__name:"Index",props:{title:String,filters:Object,getData:Object,perPage:Number,formData:{type:Array,required:!0}},setup(i){const{_,debounce:$,pickBy:k}=M,l=i;Q();const p=y(!1);y(!1);const v=q({}),o=z({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,createOpen:!1,editOpen:!1},role:null}),C=()=>{var n;p.value=!1,v.delete(route("role.destroy",(n=o.role)==null?void 0:n.id),{preserveScroll:!0,onSuccess:()=>{v.reset()},onError:()=>null,onFinish:()=>null})},D=n=>{b.get(route("role.index"),{page:n.page+1},{preserveState:!0})};return J(()=>_.cloneDeep(o.params),$(()=>{let n=k(o.params);b.get(route("role.index"),n,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(n,e)=>{const m=P,O=W,h=E,F=A,d=U,N=j,S=T,B=I;return c(),x(L,null,{default:a(()=>[t(K(X),null,{default:a(()=>[s("title",null,g(l.title[0]),1)]),_:1}),s("div",ee,[t(R,{show:o.createOpen,onClose:e[0]||(e[0]=r=>o.createOpen=!1),title:l.title[0],dynamicFrom:i.formData,route:"plans",modalWidth:l.modal_width||"60rem"},null,8,["show","title","dynamicFrom","modalWidth"]),t(Y,{show:o.editOpen,onClose:e[1]||(e[1]=r=>o.editOpen=!1),title:l.title,data:o.role,dynamicFrom:i.formData,route:"plans"},null,8,["show","title","data","dynamicFrom"]),t(m,{label:"Create",onClick:e[2]||(e[2]=r=>o.createOpen=!0),icon:"pi pi-plus"}),t(S,{lazy:"",value:i.getData.data,paginator:"",rows:i.getData.per_page,totalRecords:i.getData.total,first:(i.getData.current_page-1)*i.getData.per_page,onPage:D,tableStyle:"min-width: 50rem"},{header:a(()=>[s("div",te,[t(F,null,{default:a(()=>[t(O,null,{default:a(()=>e[6]||(e[6]=[s("i",{class:"pi pi-search"},null,-1)])),_:1,__:[6]}),t(h,{modelValue:o.params.search,"onUpdate:modelValue":e[3]||(e[3]=r=>o.params.search=r),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),empty:a(()=>e[7]||(e[7]=[u(" No data found. ")])),loading:a(()=>e[8]||(e[8]=[u(" Loading data. Please wait. ")])),default:a(()=>[t(d,{header:"No"},{body:a(r=>[u(g(r.index+1),1)]),_:1}),t(d,{field:"name",header:"Name"}),t(d,{field:"price",header:"Price"}),t(d,{header:"Features"},{body:a(r=>[(c(!0),w(G,null,Z(JSON.parse(r.data.features),(f,V)=>(c(),x(N,{key:V,value:f},null,8,["value"]))),128))]),_:1}),t(d,{exportable:!1,style:{"min-width":"12rem"}},{body:a(r=>[t(m,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:f=>(o.editOpen=!0,o.role=r.data)},null,8,["onClick"]),t(m,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:f=>{p.value=!0,o.role=r.data}},null,8,["onClick"])]),_:1})]),_:1},8,["value","rows","totalRecords","first"]),t(B,{visible:p.value,"onUpdate:visible":e[5]||(e[5]=r=>p.value=r),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[t(m,{label:"No",icon:"pi pi-times",text:"",onClick:e[4]||(e[4]=r=>p.value=!1)}),t(m,{label:"Yes",icon:"pi pi-check",onClick:C})]),default:a(()=>[s("div",oe,[e[11]||(e[11]=s("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),o.role?(c(),w("span",re,[e[9]||(e[9]=u("Are you sure you want to delete ")),s("b",null,g(o.role.name),1),e[10]||(e[10]=u("?"))])):H("",!0)])]),_:1},8,["visible"])])]),_:1})}}};export{Me as default};
