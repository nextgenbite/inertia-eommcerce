import{s as h}from"./index-B2tNpgKM.js";import{p as f,o as y,f as x,b as o,a as m,w as M,t as b,R as n,ao as p,d}from"./app-C_wibGIE.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Be1fzYNM.js";import"./index-DeBLWrxy.js";import"./index-Bx2Rw5nZ.js";import"./index-BaRTdocM.js";import"./index-BPVAx7ku.js";import"./index-DzQrVn-t.js";import"./index-DPXFMfC6.js";import"./index-BJ419i8g.js";import"./index-DwolRHwk.js";import"./index-GIQ-eXXq.js";import"./index-Bo6filDF.js";import"./index-CrJPWul7.js";import"./index-d8CBf7RS.js";import"./index-CLprxP6y.js";import"./index-BJ9MvNi8.js";import"./index-4GfbyAHC.js";import"./index-BBITFUy5.js";import"./index-BnJR5KRb.js";import"./index-4gYWjEAr.js";import"./index-CVZLNwom.js";const U={setup(){definePageMeta({layout:"admin-2",middleware:["auth"]})},data(){return{items:[],createModalOpen:!1,isUpdate:!1,form:{id:null,title:null,cost:null},columns:[{key:"title",label:"Title",path:"title"},{key:"cost",label:"cost",path:"cost"}]}},methods:{resetForm(){this.form={id:null,title:null,cost:null}},openCreateModal(){this.createModalOpen=!0,this.isUpdate=!1,this.resetForm()},openUpdateModal(s){this.resetForm(),this.createModalOpen=!0,this.isUpdate=!0,this.form=s},async submitForm(){const s=this.isUpdate?"/api/shipping-cost/"+this.form.id:"/api/shipping-cost";try{const t=this.isUpdate?"PUT":"POST",r=await this.$apiFetch(s,{method:t,body:this.form}),a=r.data;if(Notification.showSuccess(r.message),this.isUpdate){const e=this.items.findIndex(i=>i.id===a.id);e!==-1&&this.items.splice(e,1,a)}else this.items.push(a);this.createModalOpen=!1}catch(t){Notification.showError(response.message),console.error(t)}},async deleteItem(s){try{const t=await this.$apiFetch("/api/shipping-cost/"+s,{method:"DELETE"});Notification.showSuccess(t.message),this.items=this.items.filter(r=>r.id!==s)}catch(t){Notification.showError(response.message),console.error(t)}},async fetchData(){this.items=await this.$apiFetch("/api/shipping-cost")}},mounted(){this.fetchData()}},w={class:"container mt-8"},O={class:"text-lg font-medium leading-6 text-gray-900"},v={class:"space-y-4"};function C(s,t,r,a,e,i){const c=h,u=f("Modal");return y(),x("div",null,[o("div",w,[m(c,{items:e.items,itemsPerPage:10,onOpenUpdateModal:i.openUpdateModal,onOpenCreateModal:i.openCreateModal,onDeleteItem:i.deleteItem,columns:e.columns},null,8,["items","onOpenUpdateModal","onOpenCreateModal","onDeleteItem","columns"]),m(u,{isOpen:e.createModalOpen,onClose:t[3]||(t[3]=l=>e.createModalOpen=!1),onSubmit:i.submitForm},{default:M(()=>[o("h3",O,b(e.isUpdate?"Update Item":"Create Item"),1),o("form",null,[o("div",v,[n(o("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.id=l)},null,512),[[p,e.form.id]]),o("div",null,[t[4]||(t[4]=o("label",{class:"text-gray-600 mb-2 block"},[d(" Title "),o("span",{class:"text-primary"},"*")],-1)),n(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.title=l),class:"input-box rounded w-full",placeholder:"Title"},null,512),[[p,e.form.title]])]),o("div",null,[t[5]||(t[5]=o("label",{class:"text-gray-600 mb-2 block"},[d(" Cost "),o("span",{class:"text-primary"},"*")],-1)),n(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.cost=l),class:"input-box rounded w-full",placeholder:"cost"},null,512),[[p,e.form.cost]])])])])]),_:1},8,["isOpen","onSubmit"])])])}const W=g(U,[["render",C]]);export{W as default};
