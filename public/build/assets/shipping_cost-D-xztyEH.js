import{s as h}from"./index-B_qY5PUF.js";import{q as f,o as y,f as x,b as s,a as m,w as M,t as b,Q as n,an as p,d}from"./app-DREqqXO0.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Be1fzYNM.js";import"./index-DuEI3Jqb.js";import"./index-CuuT3ows.js";import"./index-dYr23F0z.js";import"./index-BG897BeB.js";import"./index-BODluzKA.js";import"./index-DoZKPx1C.js";import"./index-B9c4vmBH.js";import"./index-mUc7FofT.js";import"./index-DGvsfW-D.js";import"./index-E8v7Bzn1.js";import"./index-BustJ7sT.js";import"./index-CYCUIEmO.js";import"./index-xBYXB8lD.js";import"./index-CWh0jPAo.js";import"./index-CaO7sUgs.js";import"./index-CLAVeq4F.js";import"./index-BGsC8MIJ.js";import"./index-D4JHFbkd.js";import"./index-CBxUFd1K.js";const U={setup(){definePageMeta({layout:"admin-2",middleware:["auth"]})},data(){return{items:[],createModalOpen:!1,isUpdate:!1,form:{id:null,title:null,cost:null},columns:[{key:"title",label:"Title",path:"title"},{key:"cost",label:"cost",path:"cost"}]}},methods:{resetForm(){this.form={id:null,title:null,cost:null}},openCreateModal(){this.createModalOpen=!0,this.isUpdate=!1,this.resetForm()},openUpdateModal(o){this.resetForm(),this.createModalOpen=!0,this.isUpdate=!0,this.form=o},async submitForm(){const o=this.isUpdate?"/api/shipping-cost/"+this.form.id:"/api/shipping-cost";try{const t=this.isUpdate?"PUT":"POST",r=await this.$apiFetch(o,{method:t,body:this.form}),a=r.data;if(Notification.showSuccess(r.message),this.isUpdate){const e=this.items.findIndex(i=>i.id===a.id);e!==-1&&this.items.splice(e,1,a)}else this.items.push(a);this.createModalOpen=!1}catch(t){Notification.showError(response.message),console.error(t)}},async deleteItem(o){try{const t=await this.$apiFetch("/api/shipping-cost/"+o,{method:"DELETE"});Notification.showSuccess(t.message),this.items=this.items.filter(r=>r.id!==o)}catch(t){Notification.showError(response.message),console.error(t)}},async fetchData(){this.items=await this.$apiFetch("/api/shipping-cost")}},mounted(){this.fetchData()}},w={class:"container mt-8"},O={class:"text-lg font-medium leading-6 text-gray-900"},v={class:"space-y-4"};function C(o,t,r,a,e,i){const c=h,u=f("Modal");return y(),x("div",null,[s("div",w,[m(c,{items:e.items,itemsPerPage:10,onOpenUpdateModal:i.openUpdateModal,onOpenCreateModal:i.openCreateModal,onDeleteItem:i.deleteItem,columns:e.columns},null,8,["items","onOpenUpdateModal","onOpenCreateModal","onDeleteItem","columns"]),m(u,{isOpen:e.createModalOpen,onClose:t[3]||(t[3]=l=>e.createModalOpen=!1),onSubmit:i.submitForm},{default:M(()=>[s("h3",O,b(e.isUpdate?"Update Item":"Create Item"),1),s("form",null,[s("div",v,[n(s("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.id=l)},null,512),[[p,e.form.id]]),s("div",null,[t[4]||(t[4]=s("label",{class:"text-gray-600 mb-2 block"},[d(" Title "),s("span",{class:"text-primary"},"*")],-1)),n(s("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.title=l),class:"input-box rounded w-full",placeholder:"Title"},null,512),[[p,e.form.title]])]),s("div",null,[t[5]||(t[5]=s("label",{class:"text-gray-600 mb-2 block"},[d(" Cost "),s("span",{class:"text-primary"},"*")],-1)),n(s("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.cost=l),class:"input-box rounded w-full",placeholder:"cost"},null,512),[[p,e.form.cost]])])])])]),_:1},8,["isOpen","onSubmit"])])])}const W=g(U,[["render",C]]);export{W as default};
