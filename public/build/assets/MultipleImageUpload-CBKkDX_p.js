import{a as E,s as A}from"./index-CBcP_mBc.js";import{s as D,b as L}from"./index-BSwh4WZO.js";import{s as R}from"./index-CooGIMI2.js";import{ak as T,_ as x,a0 as X,o as l,f as n,a as r,w as _,b as e,t as g,F as S,X as C,c as q,n as $,d as G,g as F}from"./app-D7NVjfTE.js";const H={class:"space-y-6"},J={class:"flex flex-wrap justify-between items-center gap-4"},K={class:"flex gap-2"},O={class:"flex items-center gap-2"},Q={class:"text-xs text-gray-500"},W={class:"flex flex-col gap-6 pt-4"},Y={key:0},Z=["alt","src"],ee={class:"font-medium text-xs truncate max-w-[100px] text-gray-800"},te={class:"text-xs text-gray-500"},se={key:1},oe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ae=["alt","src"],le={class:"font-medium text-xs truncate max-w-[100px] text-gray-800"},de={__name:"MultipleImageUpload",props:{modelValue:{type:Array,default:()=>[]},existingImages:{type:Array,default:()=>[]},itemShow:String},emits:["update:modelValue","update:existingImages"],setup(y,{emit:V}){const I=T(),f=V,z=y,c=x(0),b=x(0),d=x([]),u=x([...z.existingImages]);X(()=>z.existingImages,s=>{u.value=[...s]});const B=s=>{d.value=s.files,c.value=d.value.reduce((o,a)=>o+a.size,0),b.value=c.value/10,f("update:modelValue",d.value)},M=(s,o,a)=>{o(a),d.value.splice(a,1),c.value-=s.size,b.value=c.value/10,f("update:modelValue",d.value)},P=s=>{u.value.splice(s,1),f("update:existingImages",u.value)},j=s=>{const p=I.config.locale.fileSizeTypes;if(s===0)return`0 ${p[0]}`;const v=Math.floor(Math.log(s)/Math.log(1024));return`${parseFloat((s/Math.pow(1024,v)).toFixed(3))} ${p[v]}`};return(s,o)=>{const a=D,p=E,v=R,w=L,N=A;return l(),n("div",H,[r(N,{name:"images[]",url:null,customUpload:!0,onSelect:B,multiple:!0,accept:"image/*",maxFileSize:2e6},{header:_(({chooseCallback:m,clearCallback:k,files:h})=>[e("div",J,[e("div",K,[r(a,{onClick:t=>m(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary",class:"transition hover:bg-gray-100"},null,8,["onClick"]),r(a,{onClick:t=>k(),icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!h||h.length===0,class:"transition hover:bg-red-100"},null,8,["onClick","disabled"])]),e("div",O,[r(p,{value:b.value,showValue:!1,class:"w-48 h-2 rounded bg-gray-200"},null,8,["value"]),e("span",Q,g(c.value)+"B / 2Mb",1)])])]),content:_(({files:m,removeFileCallback:k,messages:h})=>[e("div",W,[(l(!0),n(S,null,C(h,t=>(l(),q(v,{key:t,class:$({"mb-8":!m.length&&!s.uploadedFiles.length}),severity:"error"},{default:_(()=>[G(g(t),1)]),_:2},1032,["class"]))),128)),m.length>0?(l(),n("div",Y,[o[0]||(o[0]=e("h5",{class:"font-semibold text-gray-700 mb-2"},"Pending",-1)),e("div",{class:$(["grid grid-cols-2 md:grid-cols-3 gap-4",y.itemShow?y.itemShow:"lg:grid-cols-4"])},[(l(!0),n(S,null,C(m,(t,i)=>(l(),n("div",{key:t.name+i,class:"bg-white rounded-lg shadow p-2 flex flex-col items-center gap-2 transition hover:shadow-lg"},[e("img",{role:"presentation",alt:t.name,src:t.objectURL,class:"rounded w-24 h-16 object-cover border"},null,8,Z),e("p",ee,g(t.name),1),e("div",te,g(j(t.size)),1),r(w,{value:"Pending",severity:"warn"}),r(a,{icon:"pi pi-times",onClick:U=>M(t,k,i),outlined:"",rounded:"",severity:"danger",class:"mt-2 transition hover:bg-red-100"},null,8,["onClick"])]))),128))],2)])):F("",!0),u.value.length>0?(l(),n("div",se,[o[1]||(o[1]=e("h5",{class:"font-semibold text-gray-700 mb-2"},"Current",-1)),e("div",oe,[(l(!0),n(S,null,C(u.value,(t,i)=>(l(),n("div",{key:"existing-"+i,class:"bg-white rounded-lg shadow p-4 flex flex-col items-center gap-2 transition hover:shadow-lg"},[e("img",{role:"presentation",alt:t.name,src:t.url,class:"rounded w-24 h-16 object-cover border"},null,8,ae),e("span",le,g(t.name||"Image "+(i+1)),1),r(w,{value:"Complete",severity:"success"}),r(a,{icon:"pi pi-times",onClick:U=>P(i),outlined:"",rounded:"",severity:"danger",class:"mt-2 transition hover:bg-red-100"},null,8,["onClick"])]))),128))])])):F("",!0)])]),empty:_(()=>o[2]||(o[2]=[e("div",{class:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300"},[e("i",{class:"pi pi-cloud-upload text-5xl text-gray-400 mb-2"}),e("p",{class:"text-gray-500"},"Drag and drop files here")],-1)])),_:1})])}}};export{de as _};
