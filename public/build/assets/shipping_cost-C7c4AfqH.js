import{s as h}from"./index-0XBAtQHG.js";import{M as f,o as y,f as M,b as o,a as m,w as x,t as b,i as n,aj as p,d}from"./app-Dh8szHK3.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Be1fzYNM.js";import"./index-Ce9f-3M6.js";import"./index-BT92uTGn.js";import"./index-DAxvJZYr.js";import"./index-DNfLPAdh.js";import"./index-6-ok8yhX.js";import"./index-B3b-Iq7d.js";import"./index-n2GB4d98.js";import"./index-DBxa-NAO.js";import"./index-8Aus6rlV.js";import"./index-8ZGhiJ3I.js";import"./index-Cu3rGjYN.js";import"./index-Bgu8At9p.js";import"./index-V7LuKUv1.js";import"./index-D0rtx4e8.js";import"./index-BzDxdxb4.js";import"./index-CW_FCnTz.js";import"./index-DI3dG3I0.js";import"./index-DOXpOdoP.js";import"./index-C-T7s70H.js";import"./index-B0H_Rm_Y.js";import"./index-CFSVqPX3.js";const U={setup(){definePageMeta({layout:"admin-2",middleware:["auth"]})},data(){return{items:[],createModalOpen:!1,isUpdate:!1,form:{id:null,title:null,cost:null},columns:[{key:"title",label:"Title",path:"title"},{key:"cost",label:"cost",path:"cost"}]}},methods:{resetForm(){this.form={id:null,title:null,cost:null}},openCreateModal(){this.createModalOpen=!0,this.isUpdate=!1,this.resetForm()},openUpdateModal(s){this.resetForm(),this.createModalOpen=!0,this.isUpdate=!0,this.form=s},async submitForm(){const s=this.isUpdate?"/api/shipping-cost/"+this.form.id:"/api/shipping-cost";try{const t=this.isUpdate?"PUT":"POST",l=await this.$apiFetch(s,{method:t,body:this.form}),a=l.data;if(Notification.showSuccess(l.message),this.isUpdate){const e=this.items.findIndex(i=>i.id===a.id);e!==-1&&this.items.splice(e,1,a)}else this.items.push(a);this.createModalOpen=!1}catch(t){Notification.showError(response.message),console.error(t)}},async deleteItem(s){try{const t=await this.$apiFetch("/api/shipping-cost/"+s,{method:"DELETE"});Notification.showSuccess(t.message),this.items=this.items.filter(l=>l.id!==s)}catch(t){Notification.showError(response.message),console.error(t)}},async fetchData(){this.items=await this.$apiFetch("/api/shipping-cost")}},mounted(){this.fetchData()}},w={class:"container mt-8"},O={class:"text-lg font-medium leading-6 text-gray-900"},v={class:"space-y-4"};function C(s,t,l,a,e,i){const c=h,u=f("Modal");return y(),M("div",null,[o("div",w,[m(c,{items:e.items,itemsPerPage:10,onOpenUpdateModal:i.openUpdateModal,onOpenCreateModal:i.openCreateModal,onDeleteItem:i.deleteItem,columns:e.columns},null,8,["items","onOpenUpdateModal","onOpenCreateModal","onDeleteItem","columns"]),m(u,{isOpen:e.createModalOpen,onClose:t[3]||(t[3]=r=>e.createModalOpen=!1),onSubmit:i.submitForm},{default:x(()=>[o("h3",O,b(e.isUpdate?"Update Item":"Create Item"),1),o("form",null,[o("div",v,[n(o("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=r=>e.form.id=r)},null,512),[[p,e.form.id]]),o("div",null,[t[4]||(t[4]=o("label",{class:"text-gray-600 mb-2 block"},[d(" Title "),o("span",{class:"text-primary"},"*")],-1)),n(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>e.form.title=r),class:"input-box rounded w-full",placeholder:"Title"},null,512),[[p,e.form.title]])]),o("div",null,[t[5]||(t[5]=o("label",{class:"text-gray-600 mb-2 block"},[d(" Cost "),o("span",{class:"text-primary"},"*")],-1)),n(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>e.form.cost=r),class:"input-box rounded w-full",placeholder:"cost"},null,512),[[p,e.form.cost]])])])])]),_:1},8,["isOpen","onSubmit"])])])}const Y=g(U,[["render",C]]);export{Y as default};
