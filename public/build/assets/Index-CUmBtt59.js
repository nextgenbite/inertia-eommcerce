import{s as W}from"./index-DNzB-5ej.js";import{s as X}from"./index-DVhjuUFh.js";import{s as Z,a as H}from"./index-BlahzMz6.js";import{s as J}from"./index-5NLCbnhf.js";import{s as Q}from"./index-DTX-2uSs.js";import{s as P}from"./index-C7a_0qTu.js";import{s as ee}from"./index-ZgWXmDiV.js";import{s as te}from"./index-BM4ukIn7.js";import{s as re,a as ae}from"./index-Cc8t6IMr.js";import{s as ie}from"./index-ngb8vxJP.js";import{r as c,T as oe,W as se,X as le,Y as C,o as s,f as m,a as r,u as S,w as o,F as D,Z as ne,b as p,c as y,n as pe,g as O,t as h,j as de,i as ue,_ as ce,d as _,U as me}from"./app-DZdvOm4L.js";import fe from"./Create-B91EJXg4.js";import ge from"./Edit-BlxoCavf.js";import{_ as ve}from"./AppLayout-DKd6ksMK.js";import{p as ye}from"./lodash-CgBlU4j7.js";import"./index-Be1fzYNM.js";import"./index-BAYAZ8d-.js";import"./index-B7wopTVk.js";import"./index-BvsuuBnW.js";import"./index-6N9p90gP.js";import"./index-DKDEH-52.js";import"./index-B06Rwpsi.js";import"./index-CoMPHmdl.js";import"./index-B9X5ygjx.js";import"./index-WgiRHQ8G.js";import"./index-BwocvioV.js";import"./index-DNkwbU3m.js";import"./index-CqDFibcZ.js";import"./index-C1eHv2YE.js";import"./index-CfbzzgH6.js";import"./index-BnT_7ZX0.js";import"./index-D8Ao7Y66.js";import"./index-Dhx9UlzK.js";import"./index-BTgrJ1Ns.js";import"./index-0XEQagHF.js";import"./index-CRANN27z.js";import"./index-BPEesYmj.js";import"./index-CsK3AEI7.js";import"./index-DYKuM2zd.js";import"./MultipleImageUpload-rdVpIdZa.js";import"./index-BciVwB9b.js";import"./index-D_Z_rH6L.js";import"./index-CcgYRTVa.js";import"./index-C__sLPGt.js";import"./index-CdQ-warH.js";import"./index-CvqU5fCu.js";import"./index-CfGi0f4F.js";import"./index-DECO3wvG.js";import"./layout-D7N0FsI5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-C30feOBN.js";import"./index-bWcfdGUM.js";import"./index-BL726RDo.js";import"./DropdownLink-Q4XJu3MU.js";const he={class:"card"},be={class:"text-primary font-semibold"},we={key:1,class:"text-surface-700 dark:text-surface-0"},_e={class:"flex justify-center lg:justify-between flex-col lg:flex-row gap-2"},ke={key:3},xe={key:4,class:"capitalize truncate"},$e={class:"flex flex-wrap gap-2 items-center"},Ce={class:"flex items-center gap-4"},Se={key:0},Dt={__name:"Index",props:{title:Array,filters:Object,getData:Object,perPage:Number,columns:{type:Array,required:!0},form:{type:Array,required:!0},route:{type:String,required:!0},categories:Array},setup(u){const{_:V,debounce:B,pickBy:I}=ye,l=u,g=c(!1),k=oe({}),N=c({icon:"pi pi-home",route:"/dashboard"}),A=c([{label:"Product",route:"/admin/products"}]),i=se({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,createOpen:!1,editOpen:!1},item:null}),j=()=>{var a;g.value=!1,k.delete(route(`${l.route}.destroy`,(a=i.item)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{k.reset()},onError:()=>null,onFinish:()=>null})};c();const F=a=>{C.get(route(`${l.route}.index`),{page:a.page+1},{preserveState:!0})};le(()=>V.cloneDeep(i.params),B(()=>{let a=I(i.params);C.get(route(`${l.route}.index`),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const T=c(),z=()=>{T.value.exportCSV()};c({label:"Small",value:"small"});function f(a,e){return e.split(".").reduce((d,w)=>d?d[w]:"",a)}function E(a,e){const d=f(a,e);return d&&d.length>0?"/"+d:"/no-image.png"}const R=a=>{if(!a)return null;const e=String(a).toLowerCase();if(console.log(e),["unpaid","paid","partial"].includes(e))switch(e){case"unpaid":return"danger";case"paid":return"success";case"partial":return"warning"}if(["cod","pickup","courier"].includes(e))switch(e){case"cod":return"info";case"pickup":return"success";case"courier":return"warning"}if(["pending","shipped","delivered","cancelled"].includes(e))switch(e){case"pending":return"info";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger"}return null},b=c(null);return(a,e)=>{const d=Z,w=re,q=ie,L=ae,v=te,U=ee,Y=P,x=Q,$=J,G=H,K=X,M=W;return s(),m(D,null,[r(S(ne),{title:l.title[0]},null,8,["title"]),r(ve,null,{default:o(()=>[p("div",he,[r(d,{home:N.value,model:A.value},{item:o(({item:t})=>[t.route?(s(),y(S(de),{key:0,href:t.route},{default:o(()=>[t.icon?(s(),m("span",{key:0,class:pe([t.icon,"text-color"])},null,2)):O("",!0),p("span",be,h(t.label),1)]),_:2},1032,["href"])):(s(),m("span",we,h(t.label),1))]),_:1},8,["home","model"]),r(fe,{show:i.createOpen,onClose:e[0]||(e[0]=t=>i.createOpen=!1),title:l.title[1]},null,8,["show","title"]),r(ge,{show:i.editOpen,onClose:e[1]||(e[1]=t=>i.editOpen=!1),data:i.item,title:l.title[1]},null,8,["show","data","title"]),r(K,{value:u.getData.data,size:"small",lazy:"",stripedRows:"",loading:!u.getData.data,paginator:"",rows:u.getData.per_page,totalRecords:u.getData.total,first:(u.getData.current_page-1)*u.getData.per_page,onPage:F,tableStyle:"min-width: 50rem"},{header:o(()=>[p("div",_e,[r(L,null,{default:o(()=>[r(w,null,{default:o(()=>e[7]||(e[7]=[p("i",{class:"pi pi-search"},null,-1)])),_:1,__:[7]}),r(q,{modelValue:i.params.search,"onUpdate:modelValue":e[2]||(e[2]=t=>i.params.search=t),placeholder:"Keyword Search",class:"w-full"},null,8,["modelValue"])]),_:1}),r(U,null,{default:o(()=>[ue(r(v,{label:"Create",onClick:e[3]||(e[3]=t=>i.createOpen=!0),icon:"pi pi-plus"},null,512),[[ce,a.can([a.$page.props.permissions.create])]]),r(v,{icon:"pi pi-external-link",label:"Export",onClick:e[4]||(e[4]=t=>z(t))})]),_:1})])]),empty:o(()=>e[8]||(e[8]=[p("div",{class:"text-center"},"No data found.",-1)])),loading:o(()=>e[9]||(e[9]=[_(" Loading data. Please wait. ")])),default:o(()=>[(s(!0),m(D,null,me(l.columns,t=>(s(),y($,{field:t.path,header:t.label,sortable:t==null?void 0:t.sort,headerStyle:"min-width:10rem;",key:t.key},{body:o(n=>[t.key==="image"?(s(),y(Y,{key:0,src:E(n.data,t.path),alt:t.label,class:"shadow-2 rounded",width:"100",preview:""},null,8,["src","alt"])):t.key==="tag"?(s(),y(x,{key:1,value:f(n.data,t.path),severity:R(f(n.data,t.path))},null,8,["value","severity"])):t.key==="status"?(s(),y(x,{key:2,value:f(n.data,t.path)==1?"Active":"Inactive",severity:f(n.data,t.path)==1?"success":"danger"},null,8,["value","severity"])):t.path.includes(".")?(s(),m("div",ke,h(f(n.data,t.path)),1)):(s(),m("div",xe,h(n.data[t.path]),1))]),_:2},1032,["field","header","sortable"]))),128)),r($,{style:{width:"10rem"}},{body:o(t=>[p("div",$e,[r(v,{type:"button",icon:"pi pi-ellipsis-v",rounded:"",raised:"",variant:"text","aria-haspopup":"true","aria-controls":"overlay_menu",onClick:n=>{b.value=t.data,a.$refs.menu.toggle(n)}},null,8,["onClick"]),r(G,{ref:"menu",model:[{label:"Edit",icon:"pi pi-pencil",command:()=>{i.editOpen=!0,i.item=b.value}},{label:"Delete",icon:"pi pi-trash",command:()=>{g.value=!0,i.item=b.value}}],popup:"",id:"overlay_menu"},null,8,["model"])])]),_:1})]),_:1},8,["value","loading","rows","totalRecords","first"]),r(M,{visible:g.value,"onUpdate:visible":e[6]||(e[6]=t=>g.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:o(()=>[r(v,{label:"No",icon:"pi pi-times",text:"",onClick:e[5]||(e[5]=t=>g.value=!1)}),r(v,{label:"Yes",icon:"pi pi-check",onClick:j})]),default:o(()=>[p("div",Ce,[e[12]||(e[12]=p("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),i.item?(s(),m("span",Se,[e[10]||(e[10]=_("Are you sure you want to delete ")),p("b",null,h(i.item.title),1),e[11]||(e[11]=_("?"))])):O("",!0)])]),_:1},8,["visible"])])]),_:1})],64)}}};export{Dt as default};
